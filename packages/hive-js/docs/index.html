<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>hive-io 2.0.0-beta.6 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>hive-io</h3>
          <div class='mb1'><code>2.0.0-beta.6</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#overview'
                  class="h5 bold black caps">
                  Overview
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#installing'
                  class="h5 bold black caps">
                  Installing
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#data-interface'
                  class="h5 bold black caps">
                  Data interface
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#schema'
                  class="h5 bold black caps">
                  Schema
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#model'
                  class=" toggle-sibling">
                  Model
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#modelversion'
                        class='regular pre-open'>
                        .version
                      </a></li>
                    
                      <li><a
                        href='#modelschema'
                        class='regular pre-open'>
                        .schema
                      </a></li>
                    
                      <li><a
                        href='#modelerrors'
                        class='regular pre-open'>
                        .errors
                      </a></li>
                    
                      <li><a
                        href='#modelvalidate'
                        class='regular pre-open'>
                        .validate
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#modeltojson'
                        class='regular pre-open'>
                        #toJSON
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#actor'
                  class=" toggle-sibling">
                  Actor
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#actorperform'
                        class='regular pre-open'>
                        #perform
                      </a></li>
                      
                      <li><a
                        href='#actorreplay'
                        class='regular pre-open'>
                        #replay
                      </a></li>
                      
                      <li><a
                        href='#actorassign'
                        class='regular pre-open'>
                        #assign
                      </a></li>
                      
                      <li><a
                        href='#actorparse'
                        class='regular pre-open'>
                        #parse
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#messageactor'
                  class=" toggle-sibling">
                  MessageActor
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#messageactorperform'
                        class='regular pre-open'>
                        #perform
                      </a></li>
                      
                      <li><a
                        href='#messageactorassign'
                        class='regular pre-open'>
                        #assign
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#system'
                  class=" toggle-sibling">
                  System
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#systemon'
                        class='regular pre-open'>
                        #on
                      </a></li>
                      
                      <li><a
                        href='#systememit'
                        class='regular pre-open'>
                        #emit
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#parse'
                  class="">
                  parse
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#changelog'
                  class="h5 bold black caps">
                  Changelog
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='overview' class='mt0'>
    Overview
  </h2>

  
    <p><a href="https://www.npmjs.com/package/hive-io"><img src="https://img.shields.io/npm/v/hive-io.svg" alt="NPM Version"></a>
<a href="https://github.com/fnalabs/hive-js/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a>
<a href="https://circleci.com/gh/fnalabs/hive-js"><img src="https://img.shields.io/circleci/project/github/fnalabs/hive-js.svg" alt="Build Status"></a>
<a href="https://codecov.io/gh/fnalabs/hive-js"><img src="https://img.shields.io/codecov/c/github/fnalabs/hive-js/v2.0.0.svg" alt="Code Coverage"></a>
<a href="https://david-dm.org/fnalabs/hive-js"><img src="https://img.shields.io/david/fnalabs/hive-js.svg" alt="Dependency Status"></a>
<a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="JavaScript Style Guide"></a></p>
<p>A reactive, universal JavaScript library for the Hive<sup>io</sup> framework.</p>
<p>This is where the business logic exists in your codebase. The <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a> is used as the basic building block to implement standardized, reactive microservices. The intent is to clearly define a separation between infrastructure as code and business logic allowing them both to adapt and scale independently. From simple REST services to CQRS/ES microservices, this library is flexible enough to enable the Actors to adopt new roles on the fly.</p>
<p><strong><em>NOTE:</em></strong> More examples can be found in the 2 example npm packages:</p>
<ul>
<li><a href="https://www.npmjs.com/package/hive-io-rest-example">hive-io-rest-example</a></li>
<li><a href="https://www.npmjs.com/package/hive-io-domain-example">hive-io-domain-example</a></li>
</ul>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='installing' class='mt0'>
    Installing
  </h2>

  
    <p>Install using <code>npm</code>:</p>
<pre class='hljs'>$ npm install hive-io</pre>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='data-interface' class='mt0'>
    Data interface
  </h2>

  
    <p>The network data interface structure follows the Flux Standard Action specification. This means you can expect at least one of the following keys, usually <code>type</code> and <code>payload</code>.</p>
<p><strong><em>NOTE:</em></strong> This structure <strong>must</strong> be used whenever you interface with the API. It is the output structure when translating a <code>Model</code> to valid JSON.</p>
<pre class='hljs'>{
  [type]: <span class="hljs-built_in">String</span>, <span class="hljs-comment">// &lt;associated_JSON_Schema_title&gt;</span>
  [payload]: {
    ...modelData,
  },
  [meta]: {
    [headers]: { ...request.headers }, <span class="hljs-comment">// All request headers defined</span>
    [method]: request.method, <span class="hljs-comment">// HTTP verb (GET, POST, PATCH, PUT, DELETE, etc.)</span>
    [url]: parse(request.url, <span class="hljs-literal">true</span>), <span class="hljs-comment">// Node.js Legacy URL Object</span>
    [urlParams]: actor.parse(request.url), <span class="hljs-comment">// Hive^io URL params defined in Actor constructor</span>
    [version]: <span class="hljs-built_in">Number</span>, <span class="hljs-comment">// Optional verion to help manage concurrency</span>
  },
  [errors]: [<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">list_of_Errors</span>&gt;</span>],
}</span></pre>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='schema' class='mt0'>
    Schema
  </h2>

  
    <p>The <code>Schema</code> <a href="https://fnalabs.github.io/schema-json-js/">class</a> exposed in this framework exists in a <a href="https://www.npmjs.com/package/schema-json-js">different</a> <a href="https://github.com/fnalabs/schema-json-js">project</a>. It is a JSON Schema validator class that supports the <code>draft-04</code> and <code>draft-06</code> versions of the specification. It is used to enrich the <code>Model</code> with structured validation that is very flexible to evolve as your business needs do.</p>

  
</section>
</div>
          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='model'>
      Model
    </h3>
    
    
  </div>
  

  <p>Factory class to generate <code>Model</code> instances against their JSON Schema definitions. This class adheres to the Flux Standard Action (FSA) specification and generates FSA representations of itself when transfromed to JSON. Likewise, it expects <code>data</code> to be provided in the same structure. It implements a similar pattern to Object property descriptors allowing you to set whether the Model instance's properties are <code>configurable</code>, <code>enumerable</code>, and/or <code>writable</code>. It adds another descriptor, <code>immutable</code>, to allow for the creation of immutable instances of a Model.</p>
<p><strong><em>NOTE:</em></strong> Third argument in the constructor can be either a JSON Schema <code>refs</code> object or a <code>descriptors</code> object if <code>refs</code> aren't required.</p>


  <div class='pre p1 fill-light mt0'>new Model(data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, schema: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, refs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?, descriptors: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    An Object literal containing the JSON Schema definition of the Model.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>refs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional Object literal of cached JSON Schema definitions referenced in the main schema.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>descriptors</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{configurable:true,enumerable:true,writable:true}</code>)</code>
	    An optional Object literal containing the desired property descriptors for the Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='modelversion'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>version(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Static method to get the version associated with the instance of a Model.</p>


  <div class='pre p1 fill-light mt0'>version(model: <a href="#model">Model</a>): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>)</code>:
        The version of the Model instance.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='modelschema'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>schema(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Static method to get the JSON Schema instance associated with the instance of a Model.</p>


  <div class='pre p1 fill-light mt0'>schema(model: <a href="#model">Model</a>): <a href="#schema">Schema</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#schema">Schema</a></code>:
        The associated JSON Schema instance.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='modelerrors'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>errors(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Static method to get the List of errors from the last time <code>validate</code> was called on the associated JSON Schema instance from the Model instance.</p>


  <div class='pre p1 fill-light mt0'>errors(model: <a href="#model">Model</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>:
        The List of errors.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='modelvalidate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>validate(model, schema?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Static method to manually run the JSON Schema instance's <code>validate</code> method on the specified Model instance. This method will also perform partial schema validation if passed as the second parameter.</p>


  <div class='pre p1 fill-light mt0'>validate(model: <a href="#model">Model</a>, schema: <a href="#schema">Schema</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(<a href="#schema">Schema</a>?)</code>
	    An optional JSON Schema instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        <code>true</code>
 if validation is successful, otherwise 
<code>false</code>
.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='modeltojson'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toJSON()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to transform the Model instance to conform to the FSA specification standard action definition.</p>


  <div class='pre p1 fill-light mt0'>toJSON(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the 
<code>meta</code>
 and optional 
<code>data</code>
 of the Model instance.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='actor'>
      Actor
    </h3>
    
    
  </div>
  

  <p>Class that implements a basic Actor instance in the <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a> pattern. It takes 2 parameters, a parsed template literal representing the Actor's URL and an instance of the associated Model's JSON Schema definition.</p>
<p>Primary use case(s) are:</p>
<ul>
<li>local, atomic business logic in <code>perform</code> method</li>
<li>pass messages to other actors via internal (System) or external (Kafka) message buses</li>
<li>simple routing via <code>switch</code>/<code>if</code> conditions for microservices</li>
</ul>
<p><strong><em>NOTE:</em></strong> The URL template literal passed to the tagged function must start with a slash then the resource name associated with the Model, whether its used or not, as convention.</p>


  <div class='pre p1 fill-light mt0'>new Actor(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, modelSchema: <a href="#schema">Schema</a>?, repository: any?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>parse`/empty`</code>)</code>
	    The parsed template literal for the Actor's URL.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>?)</code>
	    The instance of the associated Model's JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repository</span> <code class='quiet'>(any?)</code>
	    An optional reference to a storage layer client of your choosing.

          </div>
          
        </div>
      
    </div>
  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>repository</span> <code class='quiet'>(any)</code>
          : A reference to a storage layer client of your choosing or 
<code>undefined</code>
.

          
        </div>
      
    </div>
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      <p><p>An example Actor class from the <a href="https://github.com/fnalabs/hive-js#examples">README</a>. It is meant to be wrapped with one of the application types (REST, Producer, Consumer, Stream Processor) or to include a connection to the DB of your choice.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, Actor, Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>
<span class="hljs-keyword">import</span> ExampleSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/ExampleSchema.json'</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Actor</span> </span>{
  <span class="hljs-keyword">async</span> perform (payload) {
    <span class="hljs-comment">// Do something interesting with the payloads this Actor receives here</span>
  }
}
<span class="hljs-comment">// Proxy&lt;ExampleActor&gt;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(ExampleActor, {
  <span class="hljs-attr">construct</span>: <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ExampleActor, argsList</span>) </span>{
    <span class="hljs-keyword">const</span> example = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(ExampleSchema)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ExampleActor(parse<span class="hljs-string">`/example/<span class="hljs-subst">${<span class="hljs-string">'exampleId'</span>}</span>`</span>, example, argsList[<span class="hljs-number">0</span>])
  }
})</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='actorperform'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>perform(model, data?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that carries out the actions specified in the <code>data</code> to the specified <code>model</code>.</p>


  <div class='pre p1 fill-light mt0'>perform(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    An instance of the model associated with the received data generated from 
<code>replay</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the latest materialized view of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorreplay'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>replay(aggregate)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that carries out the historical actions or model snapshot specified in the <code>aggregate</code>.</p>


  <div class='pre p1 fill-light mt0'>replay(aggregate: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>)): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>aggregate</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>))</code>
	    The historical actions or model snapshot specified.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the latest materialized view of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorassign'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assign(model, payload, meta?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to generate the materialized view of a specified <code>model</code> from specified <code>payload</code>. Arrays on the <code>model</code> are completely replaced by the provided <code>payload</code> currently.</p>


  <div class='pre p1 fill-light mt0'>assign(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, payload: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, meta: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The instance of a model to receive new data.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    The payload to apply to the model.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>meta</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    The metadata associated with the payload being assigned.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The updated instance of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorparse'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>parse(url)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to parse the specified URL string sent in the HTTP request against the parsed URL object passed in the <code>constructor</code> to return an Object literal of URL parameter keys with their associated values.</p>


  <div class='pre p1 fill-light mt0'>parse(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The URL string sent in the HTTP request.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The Object literal of URL parameter keys with their associated values.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='messageactor'>
      MessageActor
    </h3>
    
    
  </div>
  

  <p>Class that extends <code>Actor</code> with more specific handling of Domain Commands|Events to act upon the Model. It takes 2 additional parameters than the base <code>Actor</code>, the Command and Event JSON Schema definitions.</p>
<p>Primary use case(s) are:</p>
<ul>
<li>process CQRS Commands to generate Events to apply to a Model in <code>perform</code> method</li>
</ul>
<p><strong><em>NOTE:</em></strong> The URL template literal passed to the tagged function must start with a slash then the resource name associated with the Model, whether its used or not, as convention.</p>


  <div class='pre p1 fill-light mt0'>new MessageActor(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, modelSchema: <a href="#schema">Schema</a>?, eventSchema: <a href="#schema">Schema</a>, commandSchema: <a href="#schema">Schema</a>, repository: any?)</div>
  
  
    <p>
      Extends
      
        <a href="#actor">Actor</a>
      
    </p>
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>parse`/empty`</code>)</code>
	    The parsed template literal for the Actor's URL.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>?)</code>
	    The instance of the associated Model's JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>)</code>
	    The instance of the Actor's associated Event JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>commandSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>
            = <code>{}</code>)</code>
	    The optional instance of the Actor's associated Command JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repository</span> <code class='quiet'>(any?)</code>
	    An optional reference to a storage layer client of your choosing.

          </div>
          
        </div>
      
    </div>
  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>repository</span> <code class='quiet'>(any)</code>
          : A reference to a storage layer client of your choosing or 
<code>undefined</code>
.

          
        </div>
      
    </div>
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      <p><p>A Command example MessageActor class from the <a href="https://github.com/fnalabs/hive-js#examples">README</a>. It is meant to be wrapped with one of the application types (Producer, Consumer, Stream Processor). Actors wrapped by each of the previously mentioned types are passed references to the centralized log store when <code>perform</code> and <code>replay</code> methods are called.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, MessageActor, Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>

<span class="hljs-keyword">import</span> ExampleSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/ExampleSchema.json'</span>
<span class="hljs-keyword">import</span> EventSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/EventSchema.json'</span>
<span class="hljs-keyword">import</span> CommandSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/CommandSchema.json'</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CommandActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageActor</span> </span>{
  <span class="hljs-keyword">async</span> perform (data) {
    <span class="hljs-comment">// Do something interesting with the data</span>
  }
}
<span class="hljs-comment">// Proxy&lt;CommandActor&gt;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(CommandActor, {
  <span class="hljs-attr">construct</span>: <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">CommandActor, argsList</span>) </span>{
    <span class="hljs-keyword">const</span> example = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(ExampleSchema)
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(EventSchema)
    <span class="hljs-keyword">const</span> command = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(CommandSchema)

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> CommandActor(parse<span class="hljs-string">`/example/<span class="hljs-subst">${<span class="hljs-string">'exampleId'</span>}</span>`</span>, example, event, command, argsList[<span class="hljs-number">0</span>])
  }
})</pre>
    
      <p><p>An Event example MessageActor class from the <a href="https://github.com/fnalabs/hive-js#examples">README</a>. It is meant to be wrapped with one of the application types (Producer, Consumer, Stream Processor). Actors wrapped by each of the previously mentioned types are passed references to the centralized log store when <code>perform</code> and <code>replay</code> methods are called.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, MessageActor, Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>

<span class="hljs-keyword">import</span> ExampleSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/ExampleSchema.json'</span>
<span class="hljs-keyword">import</span> EventSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/EventSchema.json'</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EventActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageActor</span> </span>{
  <span class="hljs-keyword">async</span> perform (data) {
    <span class="hljs-comment">// Do something interesting with the data</span>
  }
}
<span class="hljs-comment">// Proxy&lt;EventActor&gt;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(EventActor, {
  <span class="hljs-attr">construct</span>: <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">EventActor, argsList</span>) </span>{
    <span class="hljs-keyword">const</span> example = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(ExampleSchema)
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(EventSchema)

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> EventActor(parse<span class="hljs-string">`/example/<span class="hljs-subst">${<span class="hljs-string">'exampleId'</span>}</span>`</span>, example, event, <span class="hljs-literal">undefined</span>, argsList[<span class="hljs-number">0</span>])
  }
})</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='messageactorperform'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>perform(model, data?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that performs the specified Command in the <code>data</code> to the specified <code>model</code>.</p>


  <div class='pre p1 fill-light mt0'>perform(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    An instance of the model associated with the received data generated from 
<code>replay</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the latest materialized view of the model and the immutable  instances of the command and event.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='messageactorassign'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assign(model, payload, meta?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to generate the materialized view of a specified <code>model</code> from specified <code>payload</code>. It also handles data <code>version</code> specified in the <code>meta</code> Object literal to optionally assist in optimisted concurrency techniques if set.</p>


  <div class='pre p1 fill-light mt0'>assign(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, payload: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, meta: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The instance of a model to receive new data.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    The payload to apply to the model.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>meta</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    The metadata associated with the payload being assigned.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The updated instance of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='system'>
      System
    </h3>
    
    
  </div>
  

  <p>Class that implements a Pub/Sub Actor System that works in all modern browsers and Node.js. It is a lightweight interface on top of <code>EventTarget</code> or <code>EventEmitter</code> for browsers and Node.js respectively. The API follows the far more succinct Node.js method names using <code>on</code> to bind Actor callbacks to schema types and <code>emit</code> to send models to any Actors waiting for those events to occur.</p>


  <div class='pre p1 fill-light mt0'>new System()</div>
  
  
    <p>
      Extends
      
        EventSystem
      
    </p>
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      <p><p>An example primary Actor using an Actor System to send logs to a supporting Actor for post processing.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, Actor, Model, Schema, System } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>

<span class="hljs-keyword">import</span> ExampleSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/ExampleSchema.json'</span>

<span class="hljs-keyword">import</span> LogActor <span class="hljs-keyword">from</span> <span class="hljs-string">'../actors'</span>
<span class="hljs-keyword">import</span> LogSchema <span class="hljs-keyword">from</span> <span class="hljs-string">'../schemas/LogSchema.json'</span>
<span class="hljs-keyword">const</span> logSystem = <span class="hljs-keyword">new</span> System()

<span class="hljs-keyword">const</span> LOG_SCHEMA = <span class="hljs-built_in">Symbol</span>(<span class="hljs-string">'JSON Schema for generating logs'</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Actor</span> </span>{
  <span class="hljs-keyword">constructor</span>(url, schema, logSchema, repository) {
    <span class="hljs-keyword">super</span>(url, schema, repository)
    <span class="hljs-keyword">this</span>[LOG_SCHEMA] = logSchema
  }
  <span class="hljs-keyword">async</span> perform (payload) {
    <span class="hljs-comment">// Do something interesting with the payloads this Actor receives here</span>

    <span class="hljs-comment">// fire and forget log</span>
    <span class="hljs-keyword">const</span> log = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Model({ ... }, <span class="hljs-keyword">this</span>[LOG_SCHEMA])
    logSystem.emit(log)

    <span class="hljs-comment">// return to process the next request</span>
  }
}
<span class="hljs-comment">// Proxy&lt;ExampleActor&gt;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(ExampleActor, {
  <span class="hljs-attr">construct</span>: <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ExampleActor, argsList</span>) </span>{
    <span class="hljs-keyword">const</span> example = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(ExampleSchema)
    <span class="hljs-keyword">const</span> log = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Schema(LogSchema)

    <span class="hljs-keyword">const</span> logActor = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> LogActor()
    logSystem.on(log.title, logActor)

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ExampleActor(parse<span class="hljs-string">`/example/<span class="hljs-subst">${<span class="hljs-string">'exampleId'</span>}</span>`</span>, example, log, argsList[<span class="hljs-number">0</span>])
  }
})</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='systemon'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>on(schema, actor, options?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method that binds an Actor's <code>perform</code> method to the callback of an event associated with the provided JSON schema <code>title</code>.</p>


  <div class='pre p1 fill-light mt0'>on(schema: <a href="#schema">Schema</a>, actor: <a href="#actor">Actor</a>, options: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(<a href="#schema">Schema</a>)</code>
	    An instance of the JSON Schema (or it's raw JSON definition) associated with the the provided Actor.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>actor</span> <code class='quiet'>(<a href="#actor">Actor</a>)</code>
	    An instance of an Actor assocated with the provided JSON Schema.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional Object literal containing the browser's 
<code>EventTarget</code>
 options associated with the event listener.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>:
        A reference to the System instance so that additional event listeners can be chained.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='systememit'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>emit(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method that emits a <code>model</code> instance to all Actors listening to the model's type.</p>


  <div class='pre p1 fill-light mt0'>emit(model: <a href="#model">Model</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    An instance of the model to be sent to all Actors listening.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parse'>
      parse
    </h3>
    
    
  </div>
  

  <p>Tagged template function to parse template literals representing a URL string with optional parameters.</p>
<p><strong><em>NOTE:</em></strong> The URL template literal passed to the tagged function must start with a slash then the resource name associated with the Model, whether its used or not, as convention.</p>


  <div class='pre p1 fill-light mt0'>parse(strings: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, keys: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>strings</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    List of strings from the template literal in order of occurence.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>keys</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    List of URL parameter keys defined to associated parsed values with.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing a 
<code>regex</code>
 object to parse URL strings and the List of 
<code>keys</code>
.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>parse<span class="hljs-string">`/resource`</span> <span class="hljs-comment">// URLs without defined parameters are returned immediately when each request is parsed.</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'>parse<span class="hljs-string">`/resource/<span class="hljs-subst">${<span class="hljs-string">'resourceId'</span>}</span>`</span> <span class="hljs-comment">// The string inside the curly brackets defines the URL parameter `key`.</span></pre>
    
  

  

  

  
</section>

          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='changelog' class='mt0'>
    Changelog
  </h2>

  
    <h4>v2.0.0-rc</h4>
<ul>
<li>level set version for all framework components</li>
<li>fix error handling on components</li>
<li>update documentation</li>
</ul>
<h4>v2.0.0-beta.6</h4>
<ul>
<li>bug fix in Actor</li>
</ul>
<h4>v2.0.0-beta.5</h4>
<ul>
<li>bug fix in MessageActor</li>
<li>more updates to documentation</li>
</ul>
<h4>v2.0.0-beta.4</h4>
<ul>
<li>making Schemas optional for Actors whose only role is routing.</li>
<li>updated the default Schema on Model to accept any model data object.</li>
<li>more updates to documentation</li>
</ul>
<h4>v2.0.0-beta.3</h4>
<ul>
<li>bug fix in System</li>
</ul>
<h4>v2.0.0-beta.2</h4>
<ul>
<li>replaced JSON API specification with Flux Standard Action specification</li>
<li>
<p>added System class for internal Actor message bus</p>
<ul>
<li>this required a breaking change in the argument order on the <code>Actor.perform</code> method</li>
</ul>
</li>
<li>added browser tests for most recent Chrome and Firefox</li>
</ul>
<h4>v2.0.0-beta.1</h4>
<ul>
<li>added documentation</li>
</ul>
<h4>v2.0.0-beta</h4>
<ul>
<li>updated name and organization</li>
<li>renamed Handler to Actor and added Aggregate functionality to it</li>
<li>removed Schema for more robust JSON Schema solution (refactored into <code>schema-json-js</code> dependency)</li>
<li>removed Message|Command|Event since these can be represented as Model|Schema and performed with Actors</li>
<li>adopted JSON API and JSON Schema specifications</li>
</ul>
<h4>v1.0.0</h4>
<ul>
<li>initial release (of <code>js-cqrs-es</code>)</li>
</ul>
<h4>pre-v1.0.0</h4>
<p><img src="https://www.reactiongifs.us/wp-content/uploads/2016/04/nothing_to_see_here_naked_gun.gif" alt="nothing to see here"></p>

  
</section>
</div>
          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
