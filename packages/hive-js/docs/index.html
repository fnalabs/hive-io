<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>hive-io 2.0.0-beta.1 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>hive-io</h3>
          <div class='mb1'><code>2.0.0-beta.1</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#overview'
                  class="h5 bold black caps">
                  Overview
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#installing'
                  class="h5 bold black caps">
                  Installing
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#data-interface'
                  class="h5 bold black caps">
                  Data interface
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#schema'
                  class="h5 bold black caps">
                  Schema
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#model'
                  class=" toggle-sibling">
                  Model
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#modelschema'
                        class='regular pre-open'>
                        .schema
                      </a></li>
                    
                      <li><a
                        href='#modelerrors'
                        class='regular pre-open'>
                        .errors
                      </a></li>
                    
                      <li><a
                        href='#modelvalidate'
                        class='regular pre-open'>
                        .validate
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#modeltojson'
                        class='regular pre-open'>
                        #toJSON
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#actor'
                  class=" toggle-sibling">
                  Actor
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#actorperform'
                        class='regular pre-open'>
                        #perform
                      </a></li>
                      
                      <li><a
                        href='#actorreplay'
                        class='regular pre-open'>
                        #replay
                      </a></li>
                      
                      <li><a
                        href='#actorassign'
                        class='regular pre-open'>
                        #assign
                      </a></li>
                      
                      <li><a
                        href='#actorparse'
                        class='regular pre-open'>
                        #parse
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#messageactor'
                  class=" toggle-sibling">
                  MessageActor
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#messageactorperform'
                        class='regular pre-open'>
                        #perform
                      </a></li>
                      
                      <li><a
                        href='#messageactorassign'
                        class='regular pre-open'>
                        #assign
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#parse'
                  class="">
                  parse
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='overview' class='mt0'>
    Overview
  </h2>

  
    <p><a href="https://www.npmjs.com/package/hive-io"><img src="https://img.shields.io/npm/v/hive-io.svg" alt="NPM Version"></a>
<a href="https://github.com/fnalabs/hive-js/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a>
<a href="https://circleci.com/gh/fnalabs/hive-js"><img src="https://img.shields.io/circleci/project/github/fnalabs/hive-js.svg" alt="Build Status"></a>
<a href="https://codecov.io/gh/fnalabs/hive-js"><img src="https://img.shields.io/codecov/c/github/fnalabs/hive-js/v2.0.0.svg" alt="Code Coverage"></a>
<a href="https://david-dm.org/fnalabs/hive-js"><img src="https://img.shields.io/david/fnalabs/hive-js.svg" alt="Dependency Status"></a>
<a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="JavaScript Style Guide"></a></p>
<p>A reactive, cloud-native JavaScript library that's part of the Hive<sup>io</sup> framework.</p>
<p>This is where the business logic exists in your codebase. The <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a> is used as the basic building block to implement standardized, reactive microservices that employ the Actors. The intent is to clearly define a separation between infrastructure as code and business logic allowing them both to adapt and scale independently. From simple REST services to CQRS/ES microservices, this framework is flexible enough to enable the Actors to adopt new roles on the fly.</p>
<p><em>NOTE:</em> More examples can be found in the 2 example npm packages:</p>
<ul>
<li><a href="https://www.npmjs.com/package/hive-io-rest-example">hive-io-rest-example</a></li>
<li><a href="https://www.npmjs.com/package/hive-io-domain-example">hive-io-domain-example</a></li>
</ul>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='installing' class='mt0'>
    Installing
  </h2>

  
    <p>Install using <code>npm</code>:</p>
<pre class='hljs'>$ npm install hive-io</pre>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='data-interface' class='mt0'>
    Data interface
  </h2>

  
    <p>The network data interface structure follows the Flux Standard Action specification. This means you can expect at least one of the following keys, usually only <code>type</code>.</p>
<pre class='hljs'>{
  <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>, <span class="hljs-comment">// &lt;associated_JSON_Schema_title&gt;</span>
  [payload]: {
    ...modelData,
  },
  [meta]: {
    [headers]: { ...req.headers }, <span class="hljs-comment">// All request headers defined</span>
    [method]: req.method, <span class="hljs-comment">// HTTP verb (GET, POST, PATCH, PUT, DELETE, etc.)</span>
    [url]: parse(req.url, <span class="hljs-literal">true</span>), <span class="hljs-comment">// Node.js Legacy URL Object</span>
    [urlParams]: actor.parse(req.url), <span class="hljs-comment">// Hive^io URL params defined in Actor constructor</span>
    [version]: <span class="hljs-built_in">Number</span>, <span class="hljs-comment">// Optional verion to help manage concurrency</span>
  },
  [errors]: [<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">list_of_Errors</span>&gt;</span>],
}</span></pre>

  
</section>
</div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='schema' class='mt0'>
    Schema
  </h2>

  
    <p>The <code>Schema</code> <a href="https://fnalabs.github.io/schema-json-js/">class</a> exposed in this framework exists in a <a href="https://www.npmjs.com/package/schema-json-js">different</a> <a href="https://github.com/fnalabs/schema-json-js">project</a>. It is a JSON Schema validator class that supports the <code>draft-04</code> and <code>draft-06</code> versions of the specification. It is used to enrich the <code>Model</code> with structured validation that is very flexible to evolve as your business needs do.</p>

  
</section>
</div>
          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='model'>
      Model
    </h3>
    
    
  </div>
  

  <p>Factory class to generate <code>Model</code> instances against their JSON Schema definitions. This class adheres to the Flux Standard Action (FSA) specification and generates FSA representations of itself when transfromed to JSON. Likewise, it expects <code>data</code> to be provided in the same structure. It implements a similar pattern to Object property descriptors allowing you to set whether the Model instance's properties are <code>configurable</code>, <code>enumerable</code>, and/or <code>writable</code>. It adds another descriptor, <code>immutable</code>, to allow for the creation of immutable instances of a Model.</p>


  <div class='pre p1 fill-light mt0'>new Model(data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, schema: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, refs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?, descriptors: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    An Object literal containing the JSON Schema definition of the Model.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>refs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional Object literal of cached JSON Schema definitions referenced in the main schema.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>descriptors</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{configurable:true,enumerable:true,writable:true}</code>)</code>
	    An optional Object literal containing the desired property descriptors for the Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='modelschema'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>schema(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Static method to get the JSON Schema instance associated with the instance of a Model.</p>


  <div class='pre p1 fill-light mt0'>schema(model: <a href="#model">Model</a>): <a href="#schema">Schema</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#schema">Schema</a></code>:
        The associated JSON Schema instance.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='modelerrors'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>errors(model)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Static method to get the List of errors from the last time <code>validate</code> was called on the associated JSON Schema instance from the Model instance.</p>


  <div class='pre p1 fill-light mt0'>errors(model: <a href="#model">Model</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>:
        The List of errors.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='modelvalidate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>validate(model, schema?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Static method to manually run the JSON Schema instance's <code>validate</code> method on the specified Model instance. This method will also perform partial schema validation if passed as the second parameter.</p>


  <div class='pre p1 fill-light mt0'>validate(model: <a href="#model">Model</a>, schema: <a href="#schema">Schema</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="#model">Model</a>)</code>
	    The Model instance.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(<a href="#schema">Schema</a>?)</code>
	    An optional JSON Schema instance.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        <code>true</code>
 if validation is successful, otherwise 
<code>false</code>
.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='modeltojson'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toJSON()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to transform the Model instance to conform to the FSA specification standard action definition.</p>


  <div class='pre p1 fill-light mt0'>toJSON(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the 
<code>meta</code>
 and optional 
<code>data</code>
 of the Model instance.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='actor'>
      Actor
    </h3>
    
    
  </div>
  

  <p>Class that implements a basic <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a> instance. It takes 2 parameters, a parsed template literal representing the Actor's URL and an instance of the associated Model's JSON Schema definition.</p>


  <div class='pre p1 fill-light mt0'>new Actor(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, modelSchema: <a href="#schema">Schema</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>parse`/default/${&#39;defaultId&#39;}`</code>)</code>
	    The parsed template literal for the Actor's URL.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>)</code>
	    The instance of the associated Model's JSON Schema definition.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      <p><p>An example Actor class from the <a href="https://github.com/fnalabs/hive-js#examples">README</a>. It is meant to be wrapped with one of the application types (REST, Producer, Consumer, Stream Processor) or to include a connection to the DB of your choice.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, Actor } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Actor</span> </span>{
  <span class="hljs-keyword">constructor</span>(exampleSchema) {
    <span class="hljs-keyword">super</span>(parse<span class="hljs-string">`/example`</span>, exampleSchema) <span class="hljs-comment">// URLs without parameters still need to be "parsed"</span>
  }

  <span class="hljs-keyword">async</span> perform (payload) {
    <span class="hljs-comment">// Do something interesting with the payloads this Actor receives here</span>
  }
}</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='actorperform'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>perform(data, model?, repository?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that carries out the actions specified in the <code>data</code> to the specified <code>model</code>. It can optionally be passed a reference to a <code>repository</code> which is usually a transactional cache of the <code>model</code>.</p>


  <div class='pre p1 fill-light mt0'>perform(data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?, repository: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional instance of the model associated with the data or 
<code>undefined</code>
 if performing a create action.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repository</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional reference to the transactional cache containing the model and other domain data.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the latest materialized view of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorreplay'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>replay(aggregate, repository?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that carries out the historical actions or model snapshot specified in the <code>aggregate</code>. It can optionally be passed a reference to a <code>repository</code> which is usually a transactional cache of the <code>aggregate</code>.</p>


  <div class='pre p1 fill-light mt0'>replay(aggregate: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>), repository: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>aggregate</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>))</code>
	    The historical actions or model snapshot specified.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repository</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional reference to the transactional cache containing the model and other domain data.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The most recent instance of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorassign'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assign(model, data)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to generate the materialized view of a specified <code>model</code> from specified <code>data</code>. Arrays on the <code>model</code> are completely replaced by the provided <code>data</code> currently.</p>


  <div class='pre p1 fill-light mt0'>assign(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The instance of a model to receive new data.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    The data to apply to the model.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The updated instance of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='actorparse'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>parse(url)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to parse the specified URL string sent in the HTTP request against the parsed URL object passed in the <code>constructor</code> to return an Object literal of URL parameter keys with their associated values.</p>


  <div class='pre p1 fill-light mt0'>parse(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The URL string sent in the HTTP request.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The Object literal of URL parameter keys with their associated values.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='messageactor'>
      MessageActor
    </h3>
    
    
  </div>
  

  <p>Class that extends <code>Actor</code> with more specific handling of Domain Commands|Events to act upon the Model. It takes 2 additional parameters than the base <code>Actor</code>, the Command and Event JSON Schema definitions.</p>


  <div class='pre p1 fill-light mt0'>new MessageActor(url: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, modelSchema: <a href="#schema">Schema</a>, eventSchema: <a href="#schema">Schema</a>, commandSchema: <a href="#schema">Schema</a>)</div>
  
  
    <p>
      Extends
      
        <a href="#actor">Actor</a>
      
    </p>
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>url</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>parse`/default/${&#39;defaultId&#39;}`</code>)</code>
	    The parsed template literal for the Actor's URL.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>)</code>
	    The instance of the associated Model's JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>)</code>
	    The instance of the Actor's associated Event JSON Schema definition.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>commandSchema</span> <code class='quiet'>(<a href="#schema">Schema</a>
            = <code>{}</code>)</code>
	    The optional instance of the Actor's associated Command JSON Schema definition.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      <p><p>An example MessageActor class from the <a href="https://github.com/fnalabs/hive-js#examples">README</a>. It is meant to be wrapped with one of the application types (Producer, Consumer, Stream Processor). Actors wrapped by each of the previously mentioned types are passed references to the centralized log store when <code>perform</code> and <code>replay</code> methods are called.</p>
</p>
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { parse, MessageActor } <span class="hljs-keyword">from</span> <span class="hljs-string">'hive-io'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleActor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageActor</span> </span>{
  <span class="hljs-keyword">constructor</span> (exampleSchema, eventSchema, commandSchema) {
    <span class="hljs-keyword">super</span>(parse<span class="hljs-string">`/example/<span class="hljs-subst">${<span class="hljs-string">'exampleId'</span>}</span>`</span>, exampleSchema, eventSchema, commandSchema)
  }

  <span class="hljs-keyword">async</span> perform (data, modelInstance, repository) {
    <span class="hljs-comment">// Do something interesting with the data against the modelInstance</span>
  }
}</pre>
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='messageactorperform'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>perform(data, modelInstance?, repository?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>[<code>async</code>] Method that performs the specified Command in the <code>data</code> to the specified <code>modelInstance</code>. It can optionally be passed a reference to a <code>repository</code> which is usually a transactional cache of the <code>modelInstance</code>.</p>


  <div class='pre p1 fill-light mt0'>perform(data: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, modelInstance: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?, repository: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A FSA Object literal containing the Model's 
<code>type</code>
 and optional 
<code>meta</code>
 and 
<code>payload</code>
.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>modelInstance</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional instance of the model associated with the data or 
<code>undefined</code>
 if performing a create action.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repository</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    An optional reference to the transactional cache containing the model and other domain data.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing the latest materialized view of the model and the immutable  instances of the command and event.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='messageactorassign'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>assign(model, payload, meta?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Method used to generate the materialized view of a specified <code>model</code> from specified <code>payload</code>. It also handles data <code>version</code> specified in the <code>meta</code> Object literal to optionally assist in optimisted concurrency techniques if set.</p>


  <div class='pre p1 fill-light mt0'>assign(model: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, payload: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, meta: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>model</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The instance of a model to receive new data.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    The payload to apply to the model.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>meta</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</code>
	    The meta associated with the data being assigned.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The updated instance of the model.

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parse'>
      parse
    </h3>
    
    
  </div>
  

  <p>Tagged template function to parse template literals representing a URL string with optional parameters.
<strong>NOTE:</strong> The URL template literal passed to the tagged function must start with a slash then the resource name associated with the Model, whether its used or not, as convention.</p>


  <div class='pre p1 fill-light mt0'>parse(strings: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, keys: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>strings</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    List of strings from the template literal in order of occurence.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>keys</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    List of URL parameter keys defined to associated parsed values with.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        An Object literal containing a 
<code>regex</code>
 object to parse URL strings and the List of 
<code>keys</code>
.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>parse<span class="hljs-string">`/resource`</span> <span class="hljs-comment">// URLs without defined parameters are returned immediately when each request is parsed.</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'>parse<span class="hljs-string">`/resource/<span class="hljs-subst">${<span class="hljs-string">'resourceId'</span>}</span>`</span> <span class="hljs-comment">// The string inside the curly brackets defines the URL parameter `key`.</span></pre>
    
  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
